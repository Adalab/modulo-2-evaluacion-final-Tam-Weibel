const f=document.querySelector(".js-input"),v=document.querySelector(".js-search-btn"),p=document.querySelector(".js-reset-btn"),g=document.querySelector(".js-favorites-btn"),c=document.querySelector(".js-results-list"),a=document.querySelector(".js-favorites-list");let r=[],l=[],i=JSON.parse(localStorage.getItem("favorites"))||[];function m(t){a.innerHTML="";for(let e=0;e<t.length;e++){const n=`<article class="favorites__card">                       
                        <span>${t[e].title}</span>
                        <img src="${t[e].img}" alt="${t[e].title}" class="favorites__img">
                        <span class="favorites__icon"><i class="fa-solid fa-trash-can"></i></span>
                    </article>`;a.insertAdjacentHTML("beforeend",n)}}function h(t,e,n){n.currentTarget.classList.add("results__card--fav");const s={title:t,img:e};i||(i=[]),i.find(function(u){return u.title===t})?console.log("Anime is already in favorites"):(i.push(s),m(i),localStorage.setItem("favorites",JSON.stringify(i)))}function L(t){for(let e=0;e<t.length;e++){const n=document.createElement("article"),s=document.createElement("img"),o=document.createElement("p"),u=document.createTextNode(t[e].title);s.src=t[e].img,s.alt=t[e].title,o.appendChild(u),n.appendChild(o),n.appendChild(s),n.setAttribute("class","results__card"),n.setAttribute("title",t[e].title),s.setAttribute("class","results__img"),i.find(function(d){return d.title===t[e].title})&&n.classList.add("results__card--fav"),c.appendChild(n),n.addEventListener("click",function(d){h(t[e].title,t[e].img,d)})}}function _(){l=[],c.innerHTML="";for(let t=0;t<r.length;t++){const e={title:"",img:""};e.title=r[t].titles[1].title,e.img=r[t].images.webp.image_url,e.img==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&(e.img="https://placehold.jp/24/5e63a1/ffffff/133x200.png?text=No%20Image%20Available"),l.push(e)}L(l)}function y(t){t.preventDefault();let e=f.value.toLowerCase();fetch(`https://api.jikan.moe/v4/anime?q=${e}`).then(function(n){return n.json()}).then(function(n){r=n.data,_()}).catch(function(n){console.error("Fetch error:",n)})}function S(t){t.preventDefault(),c.innerHTML="",a.innerHTML="",localStorage.removeItem("favorites"),f.value="",l=[],i=[]}function j(t){t.preventDefault(),a.innerHTML="",localStorage.removeItem("favorites");for(let e=0;e<i.length;e++){const n=i[e],s=c.querySelector(`[title="${n.title}"]`);s&&s.classList.remove("results__card--fav")}i=[]}m(i);v.addEventListener("click",y);p.addEventListener("click",S);g.addEventListener("click",j);
//# sourceMappingURL=main.js.map
