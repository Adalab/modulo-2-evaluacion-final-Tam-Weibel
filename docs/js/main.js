const f=document.querySelector(".js-input"),m=document.querySelector(".js-btn"),p=document.querySelector(".js-reset"),d=document.querySelector(".js-results-list"),u=document.querySelector(".js-favorites-list");let r=[],l=[],i=JSON.parse(localStorage.getItem("favorites"))||[];function g(e){u.innerHTML="";for(let t=0;t<e.length;t++){const n=`<article class="favorites__card">
                        <p>${e[t].title}</p>
                        <img src="${e[t].img}" alt="${e[t].title}" class="favorites__img">
                    </article>`;u.insertAdjacentHTML("beforeend",n)}}function v(e,t,n){n.currentTarget.classList.add("results__card--fav");const s={title:e,img:t};i||(i=[]),i.find(function(a){return a.title===e})?console.log("Anime is already in favorites"):(i.push(s),g(i),localStorage.setItem("favorites",JSON.stringify(i)))}function h(e){for(let t=0;t<e.length;t++){const n=document.createElement("article"),s=document.createElement("img"),c=document.createElement("p"),a=document.createTextNode(e[t].title);s.src=e[t].img,s.alt=e[t].title,c.appendChild(a),n.appendChild(c),n.appendChild(s),n.setAttribute("class","results__card"),s.setAttribute("class","results__img"),i.find(function(o){return o.title===e[t].title})&&n.classList.add("results__card--fav"),d.appendChild(n),n.addEventListener("click",function(o){v(e[t].title,e[t].img,o)})}}function L(){l=[],d.innerHTML="";for(let e=0;e<r.length;e++){const t={title:"",img:""};t.title=r[e].titles[1].title,t.img=r[e].images.webp.image_url,t.img==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&(t.img="https://placehold.jp/24/5e63a1/ffffff/133x200.png?text=No%20Image%20Available"),l.push(t)}h(l)}function _(e){e.preventDefault();let t=f.value.toLowerCase();fetch(`https://api.jikan.moe/v4/anime?q=${t}`).then(function(n){return n.json()}).then(function(n){r=n.data,L()}).catch(function(n){console.error("Fetch error:",n)})}function y(e){e.preventDefault(),d.innerHTML="",u.innerHTML="",localStorage.removeItem("favorites"),f.value="",l=[],i=[]}m.addEventListener("click",_);p.addEventListener("click",y);
//# sourceMappingURL=main.js.map
