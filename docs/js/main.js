const d=document.querySelector(".js-input"),g=document.querySelector(".js-btn"),f=document.querySelector(".js-reset"),h=document.querySelector(".js-results-list"),o=document.querySelector(".js-favorites-list");let l=[],c=[],i=JSON.parse(localStorage.getItem("favorites"));function u(e){o.innerHTML="";for(let t=0;t<e.length;t++){const n=document.createElement("article"),s=document.createElement("img"),a=document.createElement("h4"),r=document.createTextNode(e[t].title);s.src=e[t].img,s.alt="No image available for this series",a.appendChild(r),n.appendChild(a),n.appendChild(s),n.setAttribute("class","favorites__card"),s.setAttribute("class","favorites__img"),o.appendChild(n)}}function p(e,t,n){n.currentTarget.classList.add("results__card--fav");const s={title:e,img:t};if(i||(i=[]),!i.find(function(r){return r.title===e}))i.push(s),u(i),localStorage.setItem("favorites",JSON.stringify(i));else{n.currentTarget.classList.add("results__card--fav");const r=n.currentTarget.parentElement;console.log(r),console.log("Anime is already in favorites")}}function v(e){for(let t=0;t<e.length;t++){const n=document.createElement("article"),s=document.createElement("img"),a=document.createElement("h4"),r=document.createTextNode(e[t].title);s.src=e[t].img,s.alt="No image available for this series",a.appendChild(r),n.appendChild(a),n.appendChild(s),n.setAttribute("class","results__card"),s.setAttribute("class","results__img"),h.appendChild(n),n.addEventListener("click",function(m){p(e[t].title,e[t].img,m)})}}function _(){c=[];for(let e=0;e<l.length;e++){const t={title:"",img:""};t.title=l[e].titles[1].title,t.img=l[e].images.webp.image_url,t.img==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&(t.img="./images/No-Image.svg"),c.push(t)}v(c)}function S(e){e.preventDefault();let t=d.value.toLowerCase();fetch(`https://api.jikan.moe/v4/anime?q=${t}`).then(function(n){return n.json()}).then(function(n){l=n.data,_()}).catch(function(n){console.error("Fetch error:",n)})}function y(e){e.preventDefault(),localStorage.removeItem("favorites"),d.value="",c=[],i=[]}g.addEventListener("click",S);f.addEventListener("click",y);i&&i.length&&u(i);
//# sourceMappingURL=main.js.map
